{"version":3,"file":"static/webpack/static/development/pages/campaigns/requests.js.becab174a8a9a4bc7f44.hot-update.js","sources":["webpack:///./pages/campaigns/requests/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Button, Table } from 'semantic-ui-react';\nimport { Link } from './../../../routes';\nimport Layout from './../../../components/Layout';\nimport Campaign from  './../../../ethereum/campaign';\nimport RequestRow from './../../../components/RequestRow';\n\nclass RequestIndex extends Component {\n\tstatic async getInitialProps(props) {\n\t\tconst { address } = props.query;\n\t\tconst campaign = Campaign(address);\n\t\tconst requestsCount = await campaign.methods.getRequestsCount().call();\n\t\tconst approversCount = await campaign.methods.approversCount().call();\n\n\t\tconst requests = await Promise.all(\n\t\t\tArray(parseInt(requestsCount)).fill().map((element, index) => {\n\t\t\t\treturn campaign.methods.requests(index).call();\n\t\t\t})\n\t\t)\n\n\t\treturn { address, requests, requestsCount, approversCount };\n\t}\n\n\trenderRow() {\n\t\treturn this.props.requests.map((request, index) => {\n\t\t\treturn (\n\t\t\t\t<RequestRow\n\t\t\t\t\tid={ index }\n\t\t\t\t\tkey={ index }\n\t\t\t\t\trequest={ request }\n\t\t\t\t\taddress={ this.props.address }\n\t\t\t\t\tapproversCount={ this.props.approversCount }\n\t\t\t\t/>\n\t\t\t)\n\t\t})\n\t}\n\n\trender() {\n\t\tconst { Header, Row, HeaderCell, Body } = Table;\n\t\treturn (\n\t\t\t<Layout>\n\t\t\t\t<h3>Requests</h3>\n\t\t\t\t<Link route={`/campaigns/${this.props.address}/requests/new`}>\n\t\t\t\t\t<a>\n\t\t\t\t\t\t<Button primary>Add Request</Button>\n\t\t\t\t\t</a>\n\t\t\t\t</Link>\n\n\t\t\t\t<Table>\n\t\t\t\t\t<Header>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<HeaderCell>ID</HeaderCell>\n\t\t\t\t\t\t\t<HeaderCell>Description</HeaderCell>\n\t\t\t\t\t\t\t<HeaderCell>Amount</HeaderCell>\n\t\t\t\t\t\t\t<HeaderCell>Recipient</HeaderCell>\n\t\t\t\t\t\t\t<HeaderCell>Approval Count</HeaderCell>\n\t\t\t\t\t\t\t<HeaderCell>Approve</HeaderCell>\n\t\t\t\t\t\t\t<HeaderCell>Finalize</HeaderCell>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Header>\n\t\t\t\t\t<Body>\n\t\t\t\t\t\t{ this.renderRow() }\n\t\t\t\t\t</Body>\n\t\t\t\t</Table>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nexport default RequestIndex;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AAgBA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AAAA;AAEA;AAAA;AAsBA;;;AA1DA;;;;;;AACA;AACA;;AACA;AACA;;AADA;;AACA;AACA;;AADA;;AAEA;AAEA;AACA;AACA;;AAJA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;AAdA;AACA;AA6DA;;;;A","sourceRoot":""}