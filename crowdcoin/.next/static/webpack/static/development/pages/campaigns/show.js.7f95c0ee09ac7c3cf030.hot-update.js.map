{"version":3,"file":"static/webpack/static/development/pages/campaigns/show.js.7f95c0ee09ac7c3cf030.hot-update.js","sources":["webpack:///./components/ContributeForm.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Form, Input, Message, Button } from 'semantic-ui-react';\nimport Campaign from './../ethereum/campaign';\nimport web3 from './../ethereum/web3';\nimport { Router } from './../routes';\n\nclass ContributeForm extends Component {\n\tstate = {\n\t\tvalue: '',\n\t\terrorMessage: '',\n\t\tloading: false\n\t};\n\n\tonSubmit = async (event) => {\n\t\tevent.preventDefault();\n\n\t\tthis.setState({ loading: true, errorMessage: '' });\n\n\t\tconst campaign = Campaign(this.props.address);\n\n\t\ttry {\n\n\t\t\tconst accounts = await web3.eth.getAccounts();\n\n\t\t\tawait campaign.methods.contribute().send({\n\t\t\t\tfrom: accounts[0],\n\t\t\t\tvalue: web3.utils.toWei(this.state.value, 'ether')\n\t\t\t});\n\n\t\t\twindow.location.reload();\n\t\t} catch (err) {\n\t\t\tthis.setState({ errorMessage: err.message });\n\t\t}\n\n\t\tthis.setState({ loading: false, value: '' })\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Form onSubmit={ this.onSubmit } error={ !!this.state.errorMessage }>\n\t\t\t\t<Form.Field>\n\t\t\t\t\t<label htmlFor=\"\">Amount to Contribute</label>\n\t\t\t\t\t<Input \n\t\t\t\t\t\tvalue={ this.state.value }\n\t\t\t\t\t\tlabel=\"ether\"\n\t\t\t\t\t\tlabelPosition=\"right\"\n\t\t\t\t\t\tonChange={event => this.setState({ value: event.target.value }) }\n\t\t\t\t\t/>\n\t\t\t\t</Form.Field>\n\n\t\t\t\t<Message error header=\"Oops!\" content={ this.state.errorMessage }/>\n\t\t\t\t\n\t\t\t\t<Button loading={ this.state.loading } primary>\n\t\t\t\t\tContribute!\n\t\t\t\t</Button>\n\t\t\t</Form>\n\t\t)\n\t}\n}\n\nexport default ContributeForm;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AAHA;AACA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AALA;AAAA;AAAA;AACA;AADA;AASA;AATA;AAAA;AAYA;AACA;AAFA;AACA;AAZA;AAgBA;AAhBA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAiBA;AAAA;AAAA;AACA;AAnBA;AAqBA;AAAA;AAAA;AAAA;AACA;AAtBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AAuBA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAJA;AAQA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAKA;;;;AAnDA;AACA;AAqDA;;;;A","sourceRoot":""}